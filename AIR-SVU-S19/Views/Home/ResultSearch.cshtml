@model IEnumerable<AIR_SVU_S19.Models.Files>
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="zxx">
<head>
    <title>AIR Homework SVU-S19 |  Yazan - Hamid - Tareq</title>
    <meta charset="UTF-8">
    <meta name="description" content="AIR Homework SVU-S19 | Yazan - Hamid - Tareq">
    <meta name="keywords" content="industry, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon -->
    <link href="~/img/favicon.ico" rel="shortcut icon" />

    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i&display=swap" rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />
    <link rel="stylesheet" href="css/slicknav.min.css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link href="~/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/css/magnific-popup.css" rel="stylesheet" />
    <link href="~/css/owl.carousel.min.css" rel="stylesheet" />
    <link href="~/css/slicknav.min.css" rel="stylesheet" />
    <!-- Main Stylesheets -->
    <link href="~/css/style.css" rel="stylesheet" />
</head>
<body>
    <!-- Header section  -->
    <header class="header-section clearfix">
        <div style="width:100%;background-color:black;height:5px">
        </div>
        <div class="site-navbar">
            <!-- Logo -->
            <a href="~/Home/index" class="site-logo">
                <img src="~/img/logo.png" alt="" />
            </a>
            <div class="header-right">
                <div class="header-info-box">
                    <div class="hib-icon">
                        <img src="~/img/icons/phone.png" alt="" class="" />
                    </div>
                    <div class="hib-text">
                        <h6>+963 11 2113469</h6>
                        <p>www.svuonline.org</p>
                    </div>
                </div>
                <div class="header-info-box">
                    <div class="hib-icon">
                        <img src="~/img/icons/map-marker.png" />
                    </div>
                    <div class="hib-text">
                        <h6>Main Str, no 23</h6>
                        <p>SY, Damascus 23589</p>
                    </div>
                </div>
                <button class="search-switch"><i class="fa fa-search"></i></button>
            </div>
            <!-- Menu -->
            <nav class="site-nav-menu">
                <ul>
                    <li class="active"><a href="index">Home</a></li>
                    <li><a href="#">About us</a></li>
                    <li>
                        <a href="#">Solutions</a>
                        <ul class="sub-menu">
                            <li><a href="#">Elements</a></li>
                        </ul>
                    </li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </nav>
        </div>
        <div style="background:#fa4251; height:6px">
        </div>
    </header>
    <!-- Header section end  -->

    <div style="background:#ffffff ;width:100%; height:1000px">
        <link href="~/css/main_SearchBox.css" rel="stylesheet" />
        <div class="s013" style="background-color:#2196f3">
            @using (Html.BeginForm("ResultSearch", "Home", FormMethod.Get))
            {
                @Html.AntiForgeryToken()

                <form>
                    <fieldset>
                        <legend style="font-family:Al-Jazeera-Arabic;font-size:40px ;text-align:center;text-decoration-line:underline;color:#ffc000; margin-right: 10px;">صفحة البحث</legend>
                    </fieldset>
                    <div class="inner-form">
                        <div class="left">
                            <button class="btn-search" type="submit" style="font-family:Al-Jazeera-Arabic;font-size:30px ;height: 100px;text-align:center;">بحث</button>
                            <div class="input-wrap first" style="height: 100px">
                                <div class="input-field first">
                                    <label style="text-align:right;font:bold;font-family:Al-Jazeera-Arabic;margin-bottom:4px;font-size:14px">ماذا ؟</label>
                                    <input style="text-align:right;font:bold;font-family:Al-Jazeera-Arabic;" name="TxT_Search_Key" type="text" placeholder=". . . . تريد البحث عنه" />
                                </div>
                            </div>
                            <div class="input-wrap second" style="height: 100px">
                                <div class="input-field second">
                                    <label style="text-align:right;margin-bottom:2px;font:bold;font-family:Al-Jazeera-Arabic;font-size:14px">: نموذج البحث</label>
                                    <div class="input-select">
                                        <select data-trigger="" name="AlgorithmRetrieve">
                                            <option Value="boolean">Boolean Model</option>
                                            <option Value="ex_boolean">Extend Boolean Model</option>
                                            <option Value="vector_space">Vector Space model</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>

                <script src="~/js/choices.js"></script>
                <script>
                    const choices = new Choices('[data-trigger]',
                        {
                            searchEnabled: false,
                            itemSelectText: '',
                        });

                </script>
            }
        </div>
        <script>
            function AssignButtonClicked(elem) {
                var contentFile = $(elem).data('assigned-id');
                document.getElementById("desc").textContent = contentFile;
                $.fn.wrapInTag = function (opts) {
                    var tag = opts.tag || 'strong',
                        words = opts.words || [],
                        regex = RegExp(words.join('|'), 'gi'),
                        replacement = '<' + tag + ' style="background-color: yellow;color: black;">$&</' + tag + '>';
                    return this.html(function () {
                        return $(this).text().replace(regex, replacement);
                    });
                };
                alert(document.getElementsByName("TxT_Search_Key").text);
                     $('P').wrapInTag({
                    tag: 'strong',
                    words: ['comput','المعلومات']
                });
               
            }
        </script>
        @if (Model.Count() == 0)
        {
            <h4 style="color:deepskyblue">Records not found</h4>

        }
        `  @if (Model.Count() != 0)
        {

            <div style="width:50%;float:left;">
                <label style="margin-bottom:2px;font-family:Al-Jazeera-Arabic;font-size:xx-large ;color:darkblue" class="label-info">Search Result :</label><hr />
                <div>
                    <table class="table table-bordered">
                        <tr>
                            <th>File</th>
                            <th>Rank</th>
                        </tr>
                        @foreach (var result in Model)
                        {
                            <tr>
                                <td onclick="contentFile('hamid')">
                                    <span class="dot"></span>
                                    <a href="#">@Server.MapPath("/").Substring(20)Files\@result.File_Name</a><br />
                                    <h5 style="color:darkgray;display: inline;">File Name:</h5>
                                    <h6 style="margin-left:25px;display: inline;"> @Html.DisplayFor(m => result.File_Name)</h6>
                                    <br />
                                    <p id="Paragraph">
                                        @{
                                            if (result.File_content.Length > 300)
                                            {
                                                @result.File_content.Substring(0, 200)
                                            }
                                            else if (result.File_content.Length > 150)
                                            {
                                                @result.File_content.Substring(0, 150)
                                            }
                                            else if (result.File_content.Length > 75)
                                            {
                                                @result.File_content.Substring(0, 75)
                                            }
                                            else if (result.File_content.Length > 25)
                                            {
                                                @result.File_content.Substring(0, 25)
                                            }
                                            else
                                            {
                                                @result.File_content
                                            }
                                        }
                                    </p>
                                    <input type="button" class="btn btn-info" value="استعراض الملف" onclick="AssignButtonClicked(this)"
                                           data-assigned-id="@result.File_content" />
                                </td>
                                <td>
                                </td>
                            </tr>
                        }
                    </table>
                </div>
            </div>

            <div id="bodydesc" style="width:50%;float:left;">
                <label style="margin-bottom:2px;font-family:Al-Jazeera-Arabic;font-size:xx-large ;color:darkblue" class="label-info">File's Content:</label><hr />
                <p id="desc" style="overflow-y: scroll;height:600px;border-style:double; text-align:center">
                    //Here is my large content with images...
                </p>
            </div>

        }
        <style>
            .dot {
                height: 15px;
                width: 15px;
                background-color: #bbb;
                border-radius: 50%;
                display: inline-block;
            }
        </style>
        <!-- footer Section -->
        <div class="footer">
            <h5 style="text-align:center ;color:black;display: inline"><b>Yazan_112868</b></h5>
            <h5 style="text-align:center ;color:black;margin:0 25px 0 25px;display: inline"><b>Tarek_109843</b></h5>
            <h5 style="text-align:center ;color:black;display: inline"><b>Hamid_109490</b></h5>
        </div>
        <div class="footer" style="bottom:0;background-color:#ffc000;height:5px;"></div>
        <style>
            .footer {
                position: fixed;
                left: 0;
                bottom: 9px;
                width: 100%;
                color: white;
                text-align: center;
            }
        </style>
        <!-- end footer Section -->
    </div>
    <script src="~/js/bootstrap.min.js"></script>
    <script src="~/js/circle-progress.min.js"></script>
    <script src="~/js/jquery-3.2.1.min.js"></script>
    <script src="~/js/jquery.magnific-popup.min.js"></script>
    <script src="~/js/jquery.slicknav.min.js"></script>
    <script src="~/js/main.js"></script>
    <script src="~/js/owl.carousel.min.js"></script>
</body>

</html>

